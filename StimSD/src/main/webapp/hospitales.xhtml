<ui:composition template="menu.xhtml"
  xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:b="http://bootsfaces.net/ui">

<ui:define name="muestra">
	
<style type="text/css">
    .alineacion{
        margin:auto;
		align-items:center;
		padding: auto;
		
    }
    .tamana_ancho_1{
    width:450px;
    }
    .tamana_ancho_2{
    width:350px;
    }
    .tamana_ancho_3{
    width:400px;
    margin-top:10px;
    }
     .tamana_ancho_5{
 
    width:450px;
    }
    .div_contenedor{
    	display:block;
	display:flex;
	margin-left:auto;
	margin-right:auto;
	
	padding: 10px;
    }
    .div_izquierdo{
	margin-left:0px;
	margin-right:2px;
	
	padding: 5px;
	float:left;
    }
    .div_derecho{
    margin-left:5px;
	margin-right:auto;
	padding: 10px;
	float: right;      
    }
    .texto_centro
    {
     text-align: center;
    }
    .ui-toggleswitch {
        vertical-align: bottom;
    }
    
	</style>	
	
<h:form id = "form_g">    
	<p:growl id="mensajes" showDetail="true" life="2000" />
		
	<!-- botones de la parte superior -->		

		
	
	<!-- botones de la parte superior -->
	<!-- CONDICIONAL PARA MOSTRAR LA PRIMERA PAGINA DE HOSPITALES -->
				<br/>
	
		<b:panelGrid  columns="2" >
			<h:form id="form_buscar">
				<p:fragment >
			 		<b:panel class = "alineacion tamana_ancho_2" title="Hospitales" look="info">
			 			<b:container fluid="true"  >
			 				<b:row style="margin-bottom:20px">
			 					<b:column span="1">
			 						<b:commandButton look="info" id="cargar_hosp" value="Cargar" actionListener="#{hospitalView.cargar_hos}" update="hospital2"
				 					onclick="PF('statusDialog').show()"  oncomplete="PF('statusDialog').hide()"></b:commandButton>
			 					</b:column>
			 					<b:column span="1" offset="2">
			 						<p:inputText style="text-align: center;"  id="buscadorhos" value="#{hospitalView.hospital_b}" placeholder="Buscar" >
						     			<p:ajax event="keyup" update="hospital2" listener="#{hospitalView.buscar_hospitales}" />
						    		</p:inputText>
			 					</b:column>
			 				</b:row>
			 				<b:row style="margin-bottom:20px">
			 					<p:dataTable  id ="hospital2"  paginator="true" rows="5" 
								paginatorTemplate="{PageLinks} {RowsPerPageDropdown}"
								rowsPerPageTemplate="5,10,15" 
								paginatorPosition="bottom" value="#{hospitalView.hospitales}"
								var="hos"  reflow="true" selectionMode="single"  
								selection="#{hospitalView.seleccion_hosp}"  rowKey="#{hos.hospital}" >
		              			<p:ajax event="rowSelect" listener="#{hospitalView.elige_hospital}"
						      	update=":form_g:form_registro" 
						     	/>			
		              			<p:column headerText="Hospitales">
									<h:outputText value="#{hos.hospital}" />
								</p:column>
								</p:dataTable>
			 				</b:row>
			 			</b:container>			
			 		  </b:panel>
			 		</p:fragment>
				</h:form>
	
			<b:panel title="Hospital" look="info" class = "alineacion tamana_ancho_5">
				<h:form id="form_registro">
				<b:container fluid="true"  >
					<b:row style="margin-bottom:10px">
						<b:column span="2">
						 <h:outputLabel value="Hospital: " />
						</b:column>
						<b:column span="4" offset="2">	
							<p:inputText  style="text-align: center;"  id="nom_hospital"  label="nom_hospital" placeholder="Ingrese hospital" value="#{hospitalView.nom_hospital}">
              					<p:ajax event="keyup" listener="#{hospitalView.guarda_actualiza_datos}"></p:ajax>
              				</p:inputText>					
						</b:column>
					</b:row>
					<b:row style="margin-bottom:10px">
						<b:column span="2">
						 <h:outputLabel value="Calle: " />
						</b:column>
						<b:column span="4" offset="2">
							<p:inputText  id="calle"  style="text-align: center;" label="ca_hospital" placeholder="Ingrese calle" value="#{hospitalView.calle}">
              					<p:ajax event="keyup" listener="#{hospitalView.guarda_actualiza_datos}"></p:ajax>
              				</p:inputText>						
						</b:column>
					</b:row>
					<b:row style="margin-bottom:10px">
						<b:column span="2">
						 	<h:outputLabel value="Numero: " />
						</b:column>
						<b:column span="4" offset="2">	
							<p:inputText  id="numero"  style="text-align: center;" label="nu_hospital" placeholder="Ingrese numero" value="#{hospitalView.numero}">
              					<p:ajax event="keyup" listener="#{hospitalView.guarda_actualiza_datos}"></p:ajax>
              					<p:keyFilter regEx="/[\d\-\.]/"/>
              				</p:inputText>					
						</b:column>
					</b:row>
					<b:row style="margin-bottom:10px">
						<b:column span="2">
					 		<h:outputLabel value="Colonia: " />
						</b:column>
						<b:column span="4" offset="2">
							<p:inputText  id="colonia"  style="text-align: center;" label="co_hospital" placeholder="Ingrese colonia" value="#{hospitalView.colonia}">
              					<p:ajax event="keyup" listener="#{hospitalView.guarda_actualiza_datos}"></p:ajax>
              				</p:inputText>						
						</b:column>
					</b:row>
					<b:row style="margin-bottom:10px">
						<b:column span="2">
							<h:outputLabel value="Codigo Postal: " />
						</b:column>
						<b:column span="4" offset="2">		
							<p:inputText  id="codigoPostal"  style="text-align: center;" label="cp_hospital" placeholder="Ingrese CP" value="#{hospitalView.codigoPostal}">
              					<p:ajax event="keyup" listener="#{hospitalView.guarda_actualiza_datos}"></p:ajax>
              					<p:keyFilter regEx="/[\d\-\.]/"/>
              				</p:inputText>				
						</b:column>
					</b:row>
					<b:row style="margin-bottom:10px">
						<b:column span="2">
							<h:outputLabel  value="Telefono: " />
						</b:column>
						<b:column span="4" offset="2">	
							<p:inputText  id="telefono"  style="text-align: center;" label="tel_hospital" placeholder="Ingrese telefono" value="#{hospitalView.telefono}">
              						<p:ajax event="keyup" listener="#{hospitalView.guarda_actualiza_datos}"></p:ajax>
              				</p:inputText> 					
						</b:column>
					</b:row>
					<b:row style="margin-bottom:15px">
						<b:column span="2">
							<h:outputLabel  value="Estado: " />
						</b:column>
						<b:column span="6" offset="2">	
							<h:selectOneMenu  id="estado" style="width:100%;"  value="#{hospitalView.idEstado}">
                    			<f:selectItem itemLabel="seleccione uno" itemValue="----" />
            					<f:selectItems value="#{hospitalView.estados}" />
            					<p:ajax event="change" listener="#{hospitalView.guarda_actualiza_datos}" update="estado"></p:ajax>
          					</h:selectOneMenu>					
						</b:column>
					</b:row>
					<b:row style="margin-bottom:10px">
						<b:commandButton  look="success" value="Guardar/Actualizar"  actionListener="#{hospitalView.actualizar}" update=":form_g:form_registro" 
            				onclick="PF('statusDialog').show()"  oncomplete="PF('statusDialog').hide()" styleClass="ui-priority-primary"></b:commandButton>	
					</b:row>
				</b:container>
			</h:form>	
	</b:panel>	
</b:panelGrid>

	</h:form>
	
</ui:define>
</ui:composition>