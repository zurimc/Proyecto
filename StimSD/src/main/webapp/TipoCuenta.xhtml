<ui:composition template="menu.xhtml"
  xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:define name="muestra">
	
	
<style type="text/css">
    .alineacion{
        margin:auto;
		align-items:center;
		padding: auto;
		
    }
    .tamana_ancho_1{
    width:300px;
    }
    .tamana_ancho_2{
    width:400px;
    }
    .tamana_ancho_3{
    width:400px;
    margin-top:10px;
    }
   
    .div_contenedor{
    	display:block;
	display:flex;
	margin-left:auto;
	margin-right:auto;
	
	padding: 10px;
    }
    .div_izquierdo{
	margin-left:0px;
	margin-right:2px;
	
	padding: 5px;
	float:left;
    }
    .div_derecho{
    margin-left:5px;
	margin-right:auto;
	padding: 10px;
	float: right;      
    }
    .texto_centro
    {
     text-align: center;
    }
    .ui-toggleswitch {
        vertical-align: bottom;
    }
    
	</style>	
	
<h:form id = "form_registro">    
	<p:growl id="mensajes" showDetail="true" life="2000" /> 		
	<h:panelGrid columns="2" cellpadding="5" class = "alineacion" layout="grid">	
	
		<h:form id="form_busca">	
			<p:fragment >
				<p:panel class = "alineacion tamana_ancho_1">
					<h:panelGrid columns="1" style="margin-bottom:5px" cellpadding="10" class = "alineacion">
					 							
						<h:panelGrid columns="2"  cellpadding="2"  styleClass="ui-panelgrid-blank ui-fluid" layout="grid">	
	              			<p:commandButton value="Cargar"  actionListener="#{registroUsuario.cargar_todos_user}" update="usuarios" 
							onclick="PF('statusDialog').show()"  oncomplete="PF('statusDialog').hide()"  ></p:commandButton>
	              			<p:inputText id="buscador" value="#{registroUsuario.cuenta}"   placeholder="Buscador" style="width: 70%; text-aling: center;">
					     		<p:ajax event="keyup" update="usuarios" listener="#{registroUsuario.buscar_cuentas}" />
					    	</p:inputText>
	              		</h:panelGrid>
					
					<h:panelGrid columns="2" style="margin-bottom:5px" cellpadding="10" class = "alineacion">
						<p:outputLabel for="TipoUsuario" value="Tipo: " />
	              	
		        		<p:selectOneMenu id="TipoUsuario" value="#{registroUsuario.tipoUsuario}">
		            		<f:selectItem itemLabel="Usuario" itemValue="" />
		            		<f:selectItems value="#{registroUsuario.tipoUsuarios}" />
		            		<p:ajax event="change" listener="#{registroUsuario.cargar_tipos_user}" update="usuarios"  />
		        		</p:selectOneMenu>	
					</h:panelGrid>
	              					
		              	<p:dataTable  id = "usuarios"  paginator="true" rows="5" 
						paginatorTemplate="{PageLinks} {RowsPerPageDropdown}"
						rowsPerPageTemplate="5,10,15"
						paginatorPosition="bottom" value="#{registroUsuario.cuentas1}"
						var="reg"  reflow="true" selectionMode="single"  
						selection="#{registroUsuario.seleccion_user}"  rowKey="#{reg.cuenta}" >
		              	 <p:ajax event="rowSelect" listener="#{registroUsuario.carga_datos_user}"
					      update=":form_registro:form_cambia" 
					     />
					      	
		              		<p:column headerText="Cuenta">
								<h:outputText value="#{reg.cuenta}" />
							</p:column>
			
						</p:dataTable>
					</h:panelGrid>				
				</p:panel> 	
			</p:fragment>
		</h:form>   
		
		<h:panelGrid columns="1"  cellpadding="1" class = "alineacion" layout="grid">	
			<p:panel>
				<p:commandButton  id="Cuenta_data"  value="Cuenta" actionListener="#{registroUsuario.tipo_cuenta_1}"  
					onclick="PF('statusDialog').show()"  oncomplete="PF('statusDialog').hide()" ></p:commandButton > 
				<p:commandButton  id="datos_data"  value="Datos" actionListener="#{registroUsuario.tipo_cuenta_2}"  
					onclick="PF('statusDialog').show()"  oncomplete="PF('statusDialog').hide()"></p:commandButton > 
				<p:commandButton  id="datos_direc"  value="Dirección" actionListener="#{registroUsuario.tipo_cuenta_3}"  
					onclick="PF('statusDialog').show()"  oncomplete="PF('statusDialog').hide()"></p:commandButton > 
				<p:commandButton  id="datos_cont"  value="Contacto" actionListener="#{registroUsuario.tipo_cuenta_4}"  
					onclick="PF('statusDialog').show()"  oncomplete="PF('statusDialog').hide()"></p:commandButton >
				<p:commandButton  id="datos_escol"  value="Escolaridad" actionListener="#{registroUsuario.tipo_cuenta_5}"  
					onclick="PF('statusDialog').show()"  oncomplete="PF('statusDialog').hide()"></p:commandButton >  
			</p:panel> 
			
			
				<p:panel>
				<h:form id="form_cambia">
				<h:panelGrid  columns="1" style="margin-bottom:10px" cellpadding="5" responsive="true" class = "alineacion" >
					<p:fragment >
						<p:panel>
						<c:if  test="#{registroUsuario.tipo_menu == 1}">	
					 		<h:panelGrid columns="1" style="margin-bottom:10px" cellpadding="5" responsive="true">
					 			<h:panelGrid columns="2" columnClasses="label, value"  layout="grid">
				            		<h:outputLabel for="cuentame" value="Cuenta:" />
				       				<p:inputText  id="cuentame" value="#{registroUsuario.cuenta1}" label="cuentame" >
				       					<p:ajax event="keyup" listener="#{registroUsuario.guarda_actualiza_datos_in}" />
				       					<p:keyFilter regEx="/[a-z_]/i"/>  
				              		</p:inputText> 
				              	</h:panelGrid> 
								<h:panelGrid columns="2" columnClasses="label, value" layout="grid">
				        			<p:outputLabel for="usuario_user" value="Tipo :" />			
					        		<p:selectOneMenu id="usuario_user" value="#{registroUsuario.tipoUsuario1}">
					        			<f:selectItem itemLabel="---" itemValue="" />
					            		<f:selectItems value="#{registroUsuario.tipoUsuarios}" />
					            		<p:ajax event="change" listener="#{registroUsuario.guarda_actualiza_datos_in}" />
									</p:selectOneMenu>
					    		</h:panelGrid>
					    	<h:panelGrid columns="2" columnClasses="label, value" layout="grid">
					    			<h:outputText value="Usuario: " />
				        			<p:inputSwitch  value="#{registroUsuario.estatus}">
				        				<p:ajax listener="#{registroUsuario.guarda_actualiza_datos_in}" />
				        			</p:inputSwitch>
				  	 		</h:panelGrid>
				  	 	</h:panelGrid>
				    	</c:if>
				    	<c:if  test="#{registroUsuario.tipo_menu == 2}">
					 		<h:panelGrid columns="2" layout="grid">
				            	<h:outputLabel for="Nombre" value="Nombre:" />
				       			<p:inputText  id="nombre" value="#{registroUsuario.nombre}"  label="nombre" >
				       				<p:ajax event="keyup" listener="#{registroUsuario.guarda_actualiza_datos_in}" />
				       				<p:keyFilter regEx="/[a-z_]/i"/>  
				              	</p:inputText>  
				          		<h:outputLabel for="apellido1" value="A.Paterno:" />
				              	<p:inputText  id="apellido1"  value="#{registroUsuario.apellido1}"  label="apellido1">
				              		<p:ajax event="keyup" listener="#{registroUsuario.guarda_actualiza_datos_in}" />
				               		<p:keyFilter regEx="/[a-z_]/i"/>  
				              	</p:inputText>                      
					            <h:outputLabel for="apellido2" value="A.Materno:" />
					            <p:inputText  id="apellido2"  value="#{registroUsuario.apellido2}"  label="apellido2">
					            	<p:ajax event="keyup" listener="#{registroUsuario.guarda_actualiza_datos_in}" />
					            	<p:keyFilter regEx="/[a-z_]/i"/>  
					            </p:inputText>  
					            <h:outputLabel for="cont" value="Contraseña:" />
					            <p:inputText  id="cont"  value="#{registroUsuario.contrasenia}"  label="cont">
					            	<p:ajax event="keyup" listener="#{registroUsuario.guarda_actualiza_datos_in}" />
					            </p:inputText>    
				        	</h:panelGrid>		    	
				    	</c:if>
				    	<c:if  test="#{registroUsuario.tipo_menu == 3}">
		         			<h:panelGrid columns="2" layout="grid">
			                	<h:outputLabel for="calle" value="Calle:" />
			              		<p:inputText  id="calle"  value="#{registroUsuario.calle}" label="calle" >
			              			<p:ajax event="keyup" listener="#{registroUsuario.guarda_actualiza_datos_in}" />
			              		</p:inputText>
			                	<h:outputLabel for="numero" value="Numero:" />
			              		<p:inputText  id="numero"  value="#{registroUsuario.num}"  label="numero">
			              			<p:ajax event="keyup" listener="#{registroUsuario.guarda_actualiza_datos_in}" />
			             			<p:keyFilter regEx="/[\d\-\.]/"/>  
			              		</p:inputText>
			                  	<h:outputLabel for="colonia" value="Colonia:" />
			              		<p:inputText  id="colonia"  value="#{registroUsuario.colonia}"  label="colonia" >
			              			<p:ajax event="keyup" listener="#{registroUsuario.guarda_actualiza_datos_in}" />
			              		</p:inputText>
			                  	<h:outputLabel for="cp" value="CP:" />
			              		<p:inputText  id="cp"  value="#{registroUsuario.codigoPostal}"  label="cp">
			              			<p:ajax event="keyup" listener="#{registroUsuario.guarda_actualiza_datos_in}" />
			                		<p:keyFilter regEx="/[\d\-\.]/"/>  
			              		</p:inputText>
			                  	<h:outputLabel for="estado" value="Estado: " />
			                  	<h:selectOneMenu  id="estado" value="#{registroUsuario.idEstado1}">
			                    	<f:selectItem itemLabel="seleccione uno" itemValue="" />
			            			<f:selectItems value="#{registroUsuario.estados}" />
			            			<p:ajax event="change" listener="#{registroUsuario.guarda_actualiza_datos_in}" />
			          			</h:selectOneMenu>
			           		</h:panelGrid>		    	
				    	</c:if>
				    	<c:if  test="#{registroUsuario.tipo_menu == 4}">
				        	<h:panelGrid columns="2" layout="grid">
				            	<h:outputLabel for="telefono" value="Telefono:" />
				              	<p:inputText  id="telefono"  value="#{registroUsuario.telefono}" label="username">
				              		<p:ajax event="keyup" listener="#{registroUsuario.guarda_actualiza_datos_in}" />
				                	<p:keyFilter regEx="/[\d\-\.]/"/>  
				             	</p:inputText>  
				                <h:outputLabel for="email" value="Email:" />
				              	<p:inputText  id="email"  value="#{registroUsuario.email}" label="email">
				              		<p:ajax event="keyup" listener="#{registroUsuario.guarda_actualiza_datos_in}" />
				                	<p:keyFilter regEx="/[a-z0-9_\.\-@]/i"/>  
				              	</p:inputText>
				            </h:panelGrid>
				    	</c:if>
				    	<c:if  test="#{registroUsuario.tipo_menu == 5}">
				    		<h:panelGrid columns="1" cellpadding="5" layout="grid">
								<h:panelGrid columns="2" columnClasses="label, value" layout="grid">
					        		<h:outputText value="Agregar grado: " />			        			
				        			<p:inputSwitch value = "#{registroUsuario.ingresa_grado}"  >
				        				<p:ajax listener="#{registroUsuario.ingresoescialdiad}" update = "Grado, especialidada" />
				        			</p:inputSwitch>
					        	</h:panelGrid>
								
								<h:panelGrid columns="2" cellpadding="5" layout="grid">
									<p:outputLabel  value="Nivel: " />
									<p:selectOneMenu id="Grado" value="#{registroUsuario.grado}" disabled="#{registroUsuario.ingresa_grado?'false':'true'}">
					            		<f:selectItem itemLabel="Tipo" itemValue="---" />
					            		<f:selectItems value="#{registroUsuario.grados}" />
					            		<p:ajax event="change" listener="#{registroUsuario.especiladiad}" update = "especialidada"/>
					        	</p:selectOneMenu>
								</h:panelGrid>
								
					        	<h:panelGrid columns="2" cellpadding="5" layout="grid">
						        	<p:outputLabel  value="Titulo: " />
									<p:inputText placeholder="tipo" id="especialidada" value="#{registroUsuario.especialidad1}" style="width: 90%;"
									disabled="#{registroUsuario.ingresa_grado?'false':'true'}">
										<p:ajax listener="#{registroUsuario.guarda_actualiza_datos_in}" />
									</p:inputText>
					        	</h:panelGrid>
				        	</h:panelGrid>
				    	</c:if>	
						</p:panel>
					</p:fragment>
					</h:panelGrid>
					</h:form>
					<p:commandButton  id="modifcar"  value="Guardar/Actualizar" actionListener="#{registroUsuario.guarda_actualiza_datos}"
					update=":form_registro:form_cambia"   
					onclick="PF('statusDialog').show()"  oncomplete="PF('statusDialog').hide()"></p:commandButton > 
			</p:panel>
		</h:panelGrid>	
	</h:panelGrid>		
</h:form>
</ui:define>
</ui:composition>