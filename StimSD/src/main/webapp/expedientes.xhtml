<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:b="http://bootsfaces.net/ui">
	
<h:head>
<b:tabLinks  look="primary" title="Stim SD" icon="globe" iconAlign="right">
	    <b:navLink href="VistaOndas.xhtml" value="Potenciales"/>
	    <b:navLink href="TipoCuentas.xhtml" value="Usuarios"/>
	    <b:navLink href="hospitales.xhtml" value="Hospital"/>
	   	<b:navLink href="estimulador.xhtml" value="Equipos"/>
	   	<b:navLink href="pacientes.xhtml" value="Paciente"/>
	   	<b:navLink href="expedientes.xhtml" value="Consulta"/>
	   	
	   	
	   	<h:form styleClass="navbar-form navbar-right" ></h:form>
	   		<h:form styleClass="navbar-form navbar-right" >
	     	<b:commandButton look="danger" value = "Cerrar " actionListener="#{gestiondeSeccionView.cerrarSesionUsuario}"  />
	    </h:form>
	   <h:form styleClass="navbar-form navbar-right" >
 		<b:dropButton value="STIM-SD"  inverse="true" look="info" >
		
		</b:dropButton>
		</h:form> 
</b:tabLinks>
<b:messages />
<div style="text-align: center">
 <br /> <br />
</div>
	<title>Consulta</title>
<style type="text/css">
    .alineacion{
        margin:auto;
		align-items:center;
		padding: auto;
		
    }
    .alineacion2{
         margin:auto;
		align-items:center;
		padding: auto;
    }
      .tamana_ancho_0{
    max-width:150px;    
    }
    .tamana_ancho_1{
    max-width:300px;
    
    }
    .tamana_ancho_2{
    width:500px;
    }
    .tamana_ancho_3{
    width:700px;
    margin-top:10px;
    }
        .tamana_ancho_4{
    width:800px;
    margin-top:10px;
    }
      .tamana_ancho_5{
    width:400px;
    }
     .tamana_ancho_6{
    width:600px;
    }
       .tamana_ancho_7{
    width:330px;
    }
  
    .tamana_ancho_8{
    min-width:100px;
    }
    .tamana_ancho_9{
   	width:350px;
    }
     .tamana_ancho_10{
   	width:450px;
    }
      .tamana_ancho_11{
   	width:900px;
    }
    .div_contenedor{
    	display:block;
	display:flex;
	margin-left:auto;
	margin-right:auto;
	align-items:center;
	padding: 10px;
    }
    .div_izquierdo{
	margin-left:auto;
	margin-right:5px;
	display:block;
	padding: 10px;
	float:left;
    }
    .div_derecho{
    margin-left:5px;
	margin-right:auto;
	padding: 10px;
	float: right;      
    }
    .texto_centro
    {
     text-align: center;
    }
    
</style> 
</h:head>

<h:body style= "background-color: #ecf2f5">
<h:form   id = "form_g_p" class = "tamana_ancho_8" >
<c:if  test="#{pacienteView.tipos_vistas == 0}">
				<b:panelGrid  columns="3" colSpans="4,4,4"   >
					<b:container fluid="true"  >
						<b:panel title="Expediente" look="info" id  ="estim_espe" >
							<b:row  style="margin-bottom:10px;" >
								<b:column span="2" >
					 					<h:outputLabel  value="Paciente:"/>
					 			</b:column>
					 			<b:column span="7" offset = "1">
					 					<h:outputLabel id="verpacient" value="#{pacienteView.pnombrepacientev}"/>
					 			</b:column>
							</b:row>
							<b:row  style="margin-bottom:15px;" >
								<b:column span="2">
					 					<h:outputLabel  value="Enfermedad:"/>
					 			</b:column>
					 			<b:column span="7" offset = "1">
					 					<h:outputLabel  value="#{pacienteView.pnombreenfermedadav}"/>
					 			</b:column>
							</b:row>
							<b:row  style="margin-bottom:15px;" >
								<b:column span="2">
					 				<h:outputLabel  value="Médico:"/>
					 			</b:column>
					 			<b:column span="7" offset = "1">
					 				<h:outputLabel  value="#{pacienteView.pnombremedicov}"/>
					 			</b:column>
							</b:row>
							<b:row  style="margin-bottom:15px;" >
								<b:column span="2">
					 				<h:outputLabel  value="Equipo:"/>
					 			</b:column>
					 			<b:column span="7" offset = "1">
					 				<h:outputLabel  value="#{pacienteView.pnombrequipov}"/>
					 			</b:column>
							</b:row>
							<b:row  style="margin-bottom:15px;" >
								<b:column span="2">
					 				<h:outputLabel  value="Potencial:"/>
					 			</b:column>
					 			<b:column span="7" offset = "1">
					 				<h:outputLabel  value="#{pacienteView.nombre_onda}"/>
					 			</b:column>
							</b:row>
							<b:row  style="margin-bottom:10px;" >
								
							</b:row>
						</b:panel>

					</b:container>
					<b:container fluid="true"  >
						<b:panel title="Datos Consulta" look="info" id  ="consulta_datos" >
							<b:row  style="margin-bottom:10px;" >
							<b:column span="2">
						 <h:outputLabel value="Peso: " />
						</b:column>
						<b:column span="8" offset="2">	
							<b:inputText  style="text-align: center;"  id="peso_exp"   placeholder="Ingrese Peso" value="#{consultaView.peso}">
              				<p:ajax event="keyup" listener="#{consultaView.guarda_actualiza_datos()}"></p:ajax>	
              				</b:inputText>					
						</b:column>
					</b:row>
					<b:row style="margin-bottom:10px">
						<b:column span="2">
						 <h:outputLabel value="Presión Mayor: " />
						</b:column>
						<b:column span="8" offset="2">
							<b:inputText  id="presion_exp1"  style="text-align: center;"  placeholder="Ingrese presión mayor" value="#{consultaView.p_mayor}">
              				<p:ajax event="keyup" listener="#{consultaView.guarda_actualiza_datos}"></p:ajax>
              				</b:inputText>						
						</b:column>
					</b:row>
					<b:row style="margin-bottom:10px">
						<b:column span="2">
						 <h:outputLabel value="Presión Menor: " />
						</b:column>
						<b:column span="8" offset="2">
							<b:inputText  id="presion_exp2"  style="text-align: center;"  placeholder="Ingrese presión menor" value="#{consultaView.p_menor}">
              				<p:ajax event="keyup" listener="#{consultaView.guarda_actualiza_datos}"></p:ajax>
              				</b:inputText>						
						</b:column>
					</b:row>
					<b:row style="margin-bottom:10px">
						<b:column span="2">
						 	<h:outputLabel value="Temperatura: " />
						</b:column>
						<b:column span="8" offset="2">	
							<b:inputText  id="temp_exp"  style="text-align: center;"  placeholder="Ingrese temperatura" value="#{consultaView.temperatura}" >
              				<p:ajax event="keyup" listener="#{consultaView.guarda_actualiza_datos}"></p:ajax>	
              				</b:inputText>					
						</b:column>
					</b:row>
					<b:row style="margin-bottom:10px">
						<b:column span="2">
					 		<h:outputLabel value="Altura: " />
						</b:column>
						<b:column span="8" offset="2">
							<b:inputText  id="altura"  style="text-align: center;"  placeholder="Ingrese altura" value="#{consultaView.altura}">
              				<p:ajax event="keyup" listener="#{consultaView.guarda_actualiza_datos}"></p:ajax>	
              				</b:inputText>						
						</b:column>
					</b:row>
					<b:row style="margin-bottom:10px">
						<b:column span="2">
							<h:outputLabel value="Masa Corporal: " />
						</b:column>
						<b:column span="8" offset="2">		
							<b:inputText  id="masa_exp"  style="text-align: center;"  placeholder="Ingrese masa" value="#{consultaView.masa_corp}">
              				<p:ajax event="keyup" listener="#{consultaView.guarda_actualiza_datos}"></p:ajax>	
              				</b:inputText>				
						</b:column>
					</b:row>
					<b:row style="margin-bottom:10px">
						<b:column span="2">
							<h:outputLabel  value="Grasa Corporal: " />
						</b:column>
						<b:column span="8" offset="2">	
							<b:inputText  id="grasa"  style="text-align: center;"  placeholder="Ingrese grasa" value="#{consultaView.grasa_corp}">
              				<p:ajax event="keyup" listener="#{consultaView.guarda_actualiza_datos}"></p:ajax>		
              				</b:inputText> 					
						</b:column>
					</b:row>
						
						</b:panel>
					</b:container>
					
						<b:panel  look="info" >
						 <f:facet name="heading">
						    <b:iconAwesome value="fa-location-arrow " style="padding-right:20px"/>
						    <h:outputText value="Descripcion " />
						  </f:facet>
						  <b:container fluid="true"  >
						  	<b:row style="margin-bottom:10px">
							<b:column span="2">
							<h:outputLabel  value="Seleccionar Expediente:  "/>
							</b:column>
								<b:column span="5" offset="2">
								<h:outputLabel  value="#{consultaView.nombre_expediente}"/>
								</b:column>
								<b:column span="1" offset="1">
								<b:commandButton look="info" value="E" type="button"
								
					 			onclick="PF('patablaexpediente').show();"/>
							</b:column>
							</b:row>
							<b:row>
		 	 	 				<h3>Descripción</h3>
		 	 	 			</b:row>
		 	 	 			<b:row>
		 	 	 				<p:inputTextarea id = "actualizacion_equipo" rows="1" cols="30"
									 maxlength="100" counterTemplate="{0} " 
									autoResize="false" value="#{consultaView.descripcion}"
									class = "texto_centro">
									<p:ajax event="keyup" listener="#{consultaView.guarda_actualiza_datos}"></p:ajax>
								</p:inputTextarea>
		 	 	 			</b:row>
		 	 	 			<b:row>
		 	 	 				<h:outputText id="contador_palabras1" />
		 	 	 			</b:row>
		 	 	 			<b:row style="margin-top:10px">
		 	 	 					<p:calendar id="fecha_consulta" class = "texto_centro"  showOn="button"  placeholder="Fecha" value="#{consultaView.fechaConsulta}">
		 	 	 					<p:ajax event="keyup" listener="#{consultaView.guarda_actualiza_datos}"></p:ajax>
		 	 	 					</p:calendar>
		 	 	 				</b:row>
		 	 	 			<b:row>
		 	 	 			<b:column offset="1" span="4" style="margin-top:20px">
		 	 	 			<b:commandButton look="info" id="estudios_exp" value="Estudios" type="button" onclick="PF('paParametrosver').show();" ></b:commandButton>
		 	 	 			</b:column>
		 	 	 			 <b:column offset="1" span="4" style="margin-top:20px"> 
							<b:commandButton look="success" id="guardar_exp" value="Guardar"  actionListener="#{consultaView.registroConsulta}"
							onclick="PF('statusDialog').show()"  oncomplete="PF('statusDialog').hide()"></b:commandButton>
							</b:column> 
		 	 	 			</b:row>
		 	 	 			</b:container>
						</b:panel>
					
				</b:panelGrid>
</c:if>
<!-- Cargar estudios -->	
 			<p:dialog header="Estudios" widgetVar="paParametrosver" showEffect="explode" hideEffect="bounce" height="300"  modal="true" >
 				<b:panelGrid  columns="2" >
 				<b:container fluid="true">
 						<b:row>
 						<p:dataTable class = "tamana_ancho_5" id="paraequi" paginator="true" rows="5" 
								paginatorTemplate="{PageLinks} {RowsPerPageDropdown}"
								rowsPerPageTemplate="5,10,15,20" 
								paginatorPosition="bottom" 
								var="parametroe" reflow="true" selectionMode="single"  
								>
								
							<p:column headerText="Serie">
								<h:outputText value="1" />
							</p:column>
							<p:column headerText="Equipo">
								<h:outputText value="Presion Ocular" />
							</p:column>
							</p:dataTable>
 						</b:row>
 							<b:column offset="8" span="8" style="margin-top:20px">
		 	 	 			<b:commandButton look="warning" id="presionO" value="PresionIntraocular" type="button" onclick="PF('presionI').show();" ></b:commandButton>
		 	 	 			</b:column>
 					</b:container>
 			
 					
 					</b:panelGrid>
 			</p:dialog> 
 <!-- SELECCIONAR EXPEDIENTE -->								  
<p:dialog header="Seleccione Expediente" widgetVar="patablaexpediente" showEffect="explode" hideEffect="bounce" height="300"  modal="true" >
			 			<b:panelGrid  columns="2" >
			 			<b:container fluid="true"  >
			 				<b:row  style="margin-bottom:10px" >
				 				<b:column span="4">
									<b:commandButton look="primary" value="cargar" actionListener="#{consultaView.cargar_expedientes}"
									update="expedientet, exbuscador" ></b:commandButton>
								</b:column>
								<b:column span="6" offset= "2">
									<p:inputText id="exbuscador"  placeholder="Buscar Expediente" style=" text-aling: center;" value="#{consultaView.expe_m}">
					     			<p:ajax event="keyup" update="expedientet" listener="#{consultaView.buscar_expediente}" />	
					    			</p:inputText>		
								</b:column>
			 				</b:row>
			 				<b:row  style="margin-bottom:10px" >
			 					<p:dataTable class = "tamana_ancho_5" id="expedientet" paginator="true" rows="5" 
								paginatorTemplate="{PageLinks} {RowsPerPageDropdown}"
								rowsPerPageTemplate="5,10,15,20" 
								paginatorPosition="bottom"  value="#{consultaView.exp_id}"
								 var="expe_t" reflow="true" selectionMode="single"  
								selection="#{consultaView.seleccion_expediente}" rowKey="#{expe_t.noexpediente}">
									<!--  <p:ajax event="rowSelect" listener="#{consultaView.asignacion_expediente}"
								update="" />-->
								<p:column headerText="Id">
							        	<h:outputText value="#{expe_t.noexpediente}" />
							    	</p:column>
							    	<p:column headerText="Expediente">
							    		<h:outputText value="#{expe_t.nombre}"  />
							    	</p:column>
								</p:dataTable>
			 				</b:row>
						</b:container>
						</b:panelGrid> 			
					</p:dialog>
<!-- Cargar estudios -->	
 			<p:dialog header="Ingrese Datos" widgetVar="presionI" showEffect="explode" hideEffect="bounce" height="300"  modal="true" >
 				<b:panelGrid  columns="1" >
 				<b:container fluid="true">
 				<b:icon name="cog" size="5x" style="margin-bottom:20px" spin="true" col-md="10" offset="4"/><br/>
 				<h3 style="text-align: center;">Presión Intraocular</h3>
 						<b:row style="margin-bottom:10px">
						<b:column offset="1" span="2" style="margin-top:20px">
						 <h:outputLabel value="Presión Izq: " />
						</b:column>
						
						<b:column offset="4" span="2" style="margin-top:20px">
						 <h:outputLabel value="Presión Derecho: " />
						</b:column>
						
						</b:row>
						<b:row style="margin-bottom:10px">
						<b:column offset="1" span="4" style="margin-top:20px">
						<b:inputText  id="presionD"  style="text-align: center;"  placeholder="Ingrese Izquierdo" value="#{consultaView.presionI}">
						<p:ajax event="keyup" listener="#{consultaView.guarda_presion}"></p:ajax>
						</b:inputText>
						</b:column>
						
						<b:column offset="2" span="4" style="margin-top:20px">
						<b:inputText  id="presionI"  style="text-align: center;"  placeholder="Ingrese Derecho" value="#{consultaView.presionD}">
						<p:ajax event="keyup" listener="#{consultaView.guarda_presion}"></p:ajax>
						</b:inputText>
						</b:column>
						
						</b:row>
						<b:row style="margin-top:10px">
						
		 	 	 					<p:calendar id="fecha_pi" class = "texto_centro"  showOn="button"  placeholder="Fecha" value="#{consultaView.fechapresion}" >
		 	 	 					<p:ajax event="keyup" listener="#{consultaView.guarda_presion}"></p:ajax>
		 	 	 					</p:calendar>
		 	 	 			
		 	 	 		</b:row>
 						<b:column offset="4" span="8" style="margin-top:20px">
 						<b:commandButton look="success" id="guardar_pre" value="Guardar"  actionListener="#{consultaView.registroPresionO}"
 						onclick="PF('statusDialog').show()"  oncomplete="PF('statusDialog').hide()"></b:commandButton>
 						</b:column>
 					</b:container>
 			
 					
 					</b:panelGrid>
 			</p:dialog> 					
</h:form>
</h:body>
</html>